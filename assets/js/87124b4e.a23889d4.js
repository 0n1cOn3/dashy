(self.webpackChunkdashy=self.webpackChunkdashy||[]).push([[171],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return p}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=i.createContext({}),l=function(e){var t=i.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return i.createElement(u.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=l(n),p=a,f=d["".concat(u,".").concat(p)]||d[p]||h[p]||r;return n?i.createElement(f,s(s({ref:t},c),{},{components:n})):i.createElement(f,s({ref:t},c))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=d;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var l=2;l<r;l++)s[l]=n[l];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4114:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return u},metadata:function(){return l},toc:function(){return c},default:function(){return d}});var i=n(2122),a=n(9756),r=(n(7294),n(3905)),s=["components"],o={},u="Status Indicators",l={unversionedId:"status-indicators",id:"status-indicators",isDocsHomePage:!1,title:"Status Indicators",description:"Dashy has an optional feature that can display a small icon next to each of your running services, indicating it's current status. This can be useful if you are using Dashy as your homelab's start page, as it gives you an overview of the health of each of your running services. The status feature will show response time, response code, online/ offline check and if applicable, a relevant error message",source:"@site/docs/status-indicators.md",sourceDirName:".",slug:"/status-indicators",permalink:"/docs/status-indicators",editUrl:"https://github.com/Lissy93/dashy/edit/gh-pages/docs/docs/status-indicators.md",version:"current",frontMatter:{},sidebar:"dashySidebar",previous:{title:"Theming",permalink:"/docs/theming"},next:{title:"Authentication",permalink:"/docs/authentication"}},c=[{value:"Enabling Status Indicators",id:"enabling-status-indicators",children:[]},{value:"Continuous Checking",id:"continuous-checking",children:[]},{value:"Using a Different Endpoint",id:"using-a-different-endpoint",children:[]},{value:"Setting Custom Headers",id:"setting-custom-headers",children:[]},{value:"Disabling Security",id:"disabling-security",children:[]},{value:"Troubleshooting Failing Status Checks",id:"troubleshooting-failing-status-checks",children:[]},{value:"How it Works",id:"how-it-works",children:[]}],h={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"status-indicators"},"Status Indicators"),(0,r.kt)("p",null,"Dashy has an optional feature that can display a small icon next to each of your running services, indicating it's current status. This can be useful if you are using Dashy as your homelab's start page, as it gives you an overview of the health of each of your running services. The status feature will show response time, response code, online/ offline check and if applicable, a relevant error message "),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"800",src:"/docs/assets/status-check-demo.gif"})),(0,r.kt)("h2",{id:"enabling-status-indicators"},"Enabling Status Indicators"),(0,r.kt)("p",null,"By default, this feature is off. If you do not want this feature, just don't add the ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheck")," to your conf.yml file, then no requests will be made.  "),(0,r.kt)("p",null,"To enable status checks, you can either turn it on for all items, by setting ",(0,r.kt)("inlineCode",{parentName:"p"},"appConfig.statusCheck: true"),", like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"appConfig:\n  statusCheck: true\n")),(0,r.kt)("p",null,"Or you can enable/ disable it on a per-item basis, with the ",(0,r.kt)("inlineCode",{parentName:"p"},"item[n].statusCheck")," attribute"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"sections:\n- name: Firewall\n  items:\n  - title: OPNsense\n    description: Firewall Central Management\n    icon: networking/opnsense.png\n    url: https://192.168.1.1\n    statusCheck: false\n  - title: MalTrail\n    description: Malicious traffic detection system\n    icon: networking/maltrail.png\n    url: http://192.168.1.1:8338\n    statusCheck: true\n  - title: Ntopng\n    description: Network traffic probe and network use monitor\n    icon: networking/ntop.png\n    url: http://192.168.1.1:3001\n    statusCheck: true\n")),(0,r.kt)("h2",{id:"continuous-checking"},"Continuous Checking"),(0,r.kt)("p",null,"By default, with status indicators enabled Dashy will check an applications status on page load, and will not keep indicators updated. This is usually desirable behavior. However, if you do want the status indicators to continue to poll your running services, this can be enabled by setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckInterval")," attribute. Here you define an interval as an integer in seconds, and Dashy will poll your apps every x seconds. Note that if this number is very low (below 5 seconds), you may notice the app running slightly slower."),(0,r.kt)("p",null,"The following example, will instruct Dashy to continuously check the status of your services every 20 seconds"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"appConfig:\n  statusCheck: true\n  statusCheckInterval: 20\n")),(0,r.kt)("h2",{id:"using-a-different-endpoint"},"Using a Different Endpoint"),(0,r.kt)("p",null,"By default, the status checker will use the URL of each application being checked. In some situations, you may want to use a different endpoint for status checking. Similarly, some services provide a dedicated path for uptime monitoring. "),(0,r.kt)("p",null,"You can set the ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckUrl")," property on any given item in order to do this. The status checker will then ping that endpoint, instead of the apps main ",(0,r.kt)("inlineCode",{parentName:"p"},"url")," property."),(0,r.kt)("h2",{id:"setting-custom-headers"},"Setting Custom Headers"),(0,r.kt)("p",null,"If your service is responding with an error, despite being up and running, it is most likely because custom headers for authentication, authorization or encoding are required. You can define these headers under the ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckHeaders")," property for any service. It should be defined as an object format, with the name of header as the key, and header content as the value.\nFor example, ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckHeaders: { 'X-Custom-Header': 'foobar' }")),(0,r.kt)("h2",{id:"disabling-security"},"Disabling Security"),(0,r.kt)("p",null,"By default, (if you're using HTTPS) any requests to insecure or non-HTTPS content will be blocked. This will cause the status check to fail. If you trust the endpoint (e.g. you're self-hosting it), then you can disable this security measure for an individual item. This is done by setting ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckAllowInsecure: true")),(0,r.kt)("h2",{id:"troubleshooting-failing-status-checks"},"Troubleshooting Failing Status Checks"),(0,r.kt)("p",null,"If the status is always returning an error, despite the service being online, then it is most likely an issue with access control, and should be fixed with the correct headers. Hover over the failing status to see the error code and response, in order to know where to start with addressing it.\nIf your service requires requests to include any authorization in the headers, then use the  ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckHeaders")," property, as described above.\nIf you are still having issues, it may be because your target application is blocking requests from Dashy's IP. This is a ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS"},"CORS error"),", and can be fixed by setting the headers on your target app, to include:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Access-Control-Allow-Origin: https://location-of-dashy/\nVary: Origin\n")),(0,r.kt)("p",null,"If the URL you are checking is not using HTTPS, then you may need to disable the rejection of insecure requests. This can be done by setting ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckAllowInsecure")," to true for a given item."),(0,r.kt)("p",null,"If you're serving Dashy though a CDN, instead of using the Node server or Docker image, then the Node endpoint that makes requests will not be available to you, and all requests will fail. A workaround for this may be implemented in the future, but in the meantime, your only option is to use the Docker or Node deployment method. "),(0,r.kt)("p",null,"For further troubleshooting, use an application like ",(0,r.kt)("a",{parentName:"p",href:"https://postman.com"},"Postman")," to diagnose the issue."),(0,r.kt)("h2",{id:"how-it-works"},"How it Works"),(0,r.kt)("p",null,"When the app is loaded, if ",(0,r.kt)("inlineCode",{parentName:"p"},"appConfig.statusCheck: true")," is set, or if any items have the ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheck: true")," enabled, then Dashy will make a request, to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://[your-host-name]/ping?url=[address-or-servce]")," (may al include GET params for headers and the secure flag), which in turn will ping that running service, and respond with a status code. Response time is calculated from the difference between start and end time of the request. "),(0,r.kt)("p",null,"When the response completes, an indicator will display next to each item. The color denotes the status: Yellow while waiting for the response to return, green if request was successful, red if it failed, and grey if it was unable to make the request all together."),(0,r.kt)("p",null,"All requests are made straight from your server, there is no intermediary. So providing you are hosting Dashy yourself, and are checking the status of other self-hosted services, there shouldn't be any privacy concerns. Requests are made asynchronously, so this won't have any significant impact on page load speeds. However recurring requests (using ",(0,r.kt)("inlineCode",{parentName:"p"},"statusCheckInterval"),") may run more slowly if the interval between requests is very short."))}d.isMDXComponent=!0}}]);